---
enable html: true
---
# 配置检查点

测试检查点又称断言，通过检查接口响应是否符合预期，判断系统是否满足预期：
* 如果满足预期，则用例执行成功。
* 如果不满足预期，则用例执行失败。

### 操作步骤
在步骤编辑界面中，单击“检查点”页签，设置检查点信息。

<img src="fig/测试-接口-检查点.png" style="zoom:50%">

检查点的内容说明如下表所示。

<style>
table th:first-of-type {
    width: 8%;
}
table th:nth-of-type(2) {
    width: 92%;
}
</style>

|参数|说明|
|:--------- |:-------- |
|来源|表示检查接口返回的哪一类信息。取值为系统预置参数，详细请参见[检查点预置参数说明](#检查点预置参数说明)。|
|属性|表示检查接口返回信息中的哪个字段的取值。如果来源为响应码，属性可不填。如果来源为响应体或响应头中的字段，字段支持嵌套取值，例如“result.status”。|
|提取函数|表示将“来源”的“属性”通过哪种方式提取出来，再与目标值进行比较。例如：将“响应体”中的“value”属性通过“正则表达式”的方式提取出来。|
|函数参数|表示具体的提取函数。|
|比较符|支持数字、字符串、JSON对象比较、类型比较等多种比较符。详细请参见[比较符说明](#比较符说明)|
|目标值|检查点的期望值。|
|操作|![](fig/add01.png)：增加一个检查点。<br>![](fig/delete01.png)：删除检查点。|

### 检查点预置参数说明

检查点预置参数如下表所示。

<style>
table th:first-of-type {
    width: 4%;
}
table th:nth-of-type(2) {
    width: 4%;
}
table th:nth-of-type(3) {
    width: 8%;
}
table th:nth-of-type(4) {
    width: 84%;
}
</style>

|参数|参数说明|属性是否支持多级取值|举例|
|:--------- |:-------- |:-----|:---|
|响应体(JSON)|接口返回的响应体。|是|**含义**：判断响应体中的id等于100。<br>**设置**：“来源”为“响应体（JSON）”，“属性”为“id”（前提：响应体JSON串中有“id”字段），“比较符”为“等于（字符串、不区分大小写）”，“目标值”为“100”。|
|响应码|接口返回的响应头。|是|**含义**：判断响应头中的token等于abcd。<br>**设置**：“来源”为“响应头”，“属性”为“token”（前提：响应头有token），“比较符”为“等于（字符串、不区分大小写）”，“目标值”为“abcd”。|
|响应头|接口返回的响应码。|否|**含义**：判断响应码等于200。<br>**设置**：“来源”为“响应码”，“比较符”为“等于（数字）”，“目标值”为“200”。|
> [!NOTE]
> 内置参数支持多级取值，例如：响应体为“{"result":{"appId":12}}”时，则取appId的属性格式为“result.appId”。如果result是数组格式，则属性为“result[i].appId”，其中，i为非负整数。

### 比较符说明
Cloud Native支持的检查点比较符如下表所示。

<style>
table th:first-of-type {
    width: 15%;
}
table th:nth-of-type(2) {
    width: 30%;
}
table th:nth-of-type(3) {
    width: 15%;  
}
table th:nth-of-type(4) {
    width: 40%;
}
</style>

|比较类型|比较符|是否需要输入目标值|举例|
|:--------- |:-------- |:-----|:---|
|数字比较|<ul><li>等于(数字)</li><li>不等于(数字)</li><li>大于等于(数字)</li><li>小于等于(数字)</li><li>大于(数字)</li><li>小于(数字)</li></ul>|是|<ul><li>响应码<b>等于</b>200</li><li>响应码<b>大于等于</b>200</li></ul>
|字符串比较|<ul><li>等于(字符串、区分大小写)</li><li>不等于(字符串</li><li>区分大小写)</li><li>等于(字符串、不区分大小写)</li><li>包含(字符串)</li><li>不包含(字符串)</li></ul>|是|<ul><li>响应体中的属性“param1”<b>等于</b>“test”</li><li>响应体中的属性“param4”<b>包含</b>“tri”</li></ul>|
|正则比较|正则表达式|是|响应体中的属性“param1”**正则表达式 **为“^[A-Za-z0-9]{1,32}$|”
|Json对象比较|JSON等于（json等于）|是|响应体中的属性“param1”**JSON等于** “{"name":"zhangsan"}|”
|通用比较|<ul><li>是空（该字段是否为空，即是否没有该字段）</li><li>不是空（该字段是否不为空，即是否有该字段）</li></ul>|否|响应体中的属性“param1”**是空**|
|Json数组比较|<ul><li>JSON数组为空数组（json数组是否为空数组）</li><li>JSON数组为非空数组（json数组是否为非空数组）</li></ul>|否|响应体中的属性“param1”**JSON数组为空数组**|
|Json数组比较|JSON数组的大小（json数组的大小是否为...）|是|响应体中的属性“param1”**JSON数组的大小**为“1”|
|类型比较|<ul><li>是JSON类型（是否是json对象类型）</li><li>是JSON数组类型（是否是json数组类型）</li></ul>|否|响应体中的属性“param2”**是JSON数组类型**|


